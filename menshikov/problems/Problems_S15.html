<html>
<head>
 <title>Тренировка S15</title>
 <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
 <meta name="Author" content="Fyodor Menshikov, Vologda, Russia">
 <meta name="E-mail" content="mfv@mail.ru">
 <meta name="Homepage" content="http://www.uni-vologda.ac.ru/~mfv/">
</head>
<body bgcolor=white text=black>

<center><font size=+3>Тренировка S15</font></center><br>

<font size=-1>
Время тестирования приведено для Intel Celeron 400.<br>
Решения должны быть представлены на Turbo Pascal 7.0.
Объём памяти, предоставляемый программе, составляет 500 кб.
</font><br>

<a name="calcgame">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача A. Игра с калькулятором</font><br><br>
В калькулятор вводится натуральное число <i>K</i> и нажимается клавиша
"<code>+</code>". Калькулятор всё ещё показывает <i>K</i>. Цель игры: получить
на экране число, состоящее из одинаковых цифр. Для её достижения можно
производить только одно действие - нажимать на клавишу "<code>=</code>"
(возможно, 0 раз). После первого нажатия получается результат
<i>K</i>&nbsp;+&nbsp;<i>K</i>, после очередного нажатия результат увеличивается
на <i>K</i>. Требуется определить, удастся ли достичь цели, а если удастся, то
какое число, состоящее из одинаковых цифр, будет получено первым. Количество
отображаемых калькулятором цифр считать неограниченным, время работы батареек -
тоже.<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>K</i>&nbsp;&lt;=&nbsp;999,
время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла calcgame.in. В первой строке находится одно число -
<i>K</i>.<br>
<b>Вывод</b> в файл calcgame.out. Если цели достичь невозможно, вывести
"<code>Impossible</code>", если возможно, вывести два числа через пробел:
цифру, из которой состоит искомое число, и количество цифр в числе.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>
37        25
<b>Вывод 1</b>   <b>Вывод 2</b>
1 3       Impossible
</pre>

<a name="tria-abm">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача B. Площадь треугольника</font><br><br>
Даны длины трёх отрезков. Если возможно, требуется построить треугольник,
в котором один из этих отрезков был бы высотой, один - биссектрисой и один -
медианой; все построенные из одной вершины.<br>
<b>Ограничения:</b> длина каждого из трёх отрезков от 0.01 до 100, точность
результата должна быть 0.001, время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла tria-abm.in. Вводятся три положительных числа, разделённых
пробелами, - длины отрезков.<br>
<b>Вывод</b> в файл tria-abm.out. Выводится одно число - площадь треугольника.
Если треугольник нельзя построить, вывести <code>-1</code>. Если может быть
построено несколько треугольников с разными площадями, вывести
<code>0</code>.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>              <b>Ввод 2</b>
4.349  4.0  5.0     3.1  3.1  3.1
<b>Вывод 1</b>             <b>Вывод 2</b>
16.0                0
</pre>

<a name="train-ab">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача C. Формирование поезда</font><br><br>
Компания, занимающаяся железнодорожными перевозками, получила заказ
сформировать поезд, состоящий из определённого числа вагонов. Проблема в том,
что у компании есть вагоны, выпущенные в разное время, так что каждый из
вагонов может иметь один из двух видов сцеплений на каждом конце. У компании
также есть один локомотив.
<br><br>
Сцепления и для локомотива, и для вагонов обозначены буквой <code>A</code>
или <code>B</code>. Повернуть вагон или локомотив противоположной стороной
невозможно.
<br><br>
Дана информация о вагонах и локомотиве. Требуется найти число способов
сформировать разные поезда заданной длины из имеющихся видов вагонов.
Дополнительным требованием является то, что тип сцеплений на каждом конце
состава должен соответствовать типу сцеплений локомотива.
<br><br>
Поезда считаются различными, если при их сравнении от одного конца к другому
выявляется хотя бы одно отличие.
<br><br>
<u>Пример 1.</u> Пусть у компании есть вагоны <code>AA</code>,
<code>AA</code>, <code>AB</code>, <code>BA</code>, <code>BA</code> и
локомотив <code>AB</code>. В поезде должно быть 4 вагона. Из данных вагонов
можно сформировать только два различных поезда:
<code>BAAAABBA</code> и <code>BAABBAAA</code>. Локомотив можно присоединить
к поезду как с левого (используя сцепление <code>B</code>), так и с правого
конца (используя сцепление <code>A</code>).
<br><br>
<u>Пример 2.</u> Пусть у компании есть только по одному вагону каждого типа
(<code>AA</code>, <code>AB</code>, <code>BA</code>, <code>BB</code>) и
локомотив <code>AA</code>, а поезд должен состоять из трёх вагонов.
Существует три способа сформировать поезд: <code>AAABBA</code>,
<code>ABBAAA</code> и <code>ABBBBA</code>.
<br><br>
<b>Ввод</b> из файла train-ab.in. В первой строке через пробел <i>N</i> - число
вагонов, находящихся в распоряжении компании, и <i>K</i> - требуемая длина
поезда в вагонах. Вторая строка описывает тип сцеплений локомотива. Следующие
<i>N</i> строк описывают типы сцеплений вагонов. Описания даны как
<code>AB</code>, <code>AA</code>, <code>BB</code> или <code>BA</code>.
<br><br>
<b>Ограничения:</b>
1&nbsp;&lt;=&nbsp;<i>K</i>&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;40,
время&nbsp;1&nbsp;с.
<br><br>
<b>Вывод</b> в файл train-ab.out. В первой строке выводится слово
"<code>YES</code>", если можно сформировать хотя бы один поезд,
или "<code>NO</code>" - в противном случае.
<br><br>
Если поезд сформировать возможно, во второй строке должно указываться число
способов это сделать.
<br><br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>
4 4       4 4
AB        BA
AA        AA
AB        AB
BA        BA
BA        BA
<b>Вывод 1</b>   <b>Вывод 2</b>
YES       NO
2
</pre>

<a name="wall">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача D. Стена</font><br><br>
<img src="wall.gif" align=right>
Жил-был жадный Король. Он приказал своему главному Архитектору построить стену
вокруг его замка. Король был таким жадным, что не послушал предложение
Архитектора построить красивую кирпичную стену совершенной формы с изящными
высокими башнями. Вместо этого он приказал построить стену вокруг всего замка,
используя минимальное количество камня, но потребовал, чтобы стена не
подходила к замку ближе некоторого расстояния. Если Король узнает, что
Архитектор использовал больше ресурсов для постройки стены, чем было абсолютно
необходимо для удовлетворения требований, Архитектор лишится головы. Более
того, Архитектор должен представить проект стены, где указано точное количество
ресурсов.
<br><br>
Ваша задача - помочь бедному Архитектору сохранить голову, написав
программу, определяющую минимальную длину стены, которую можно построить
вокруг замка, удовлетворив требования Короля.
<br><br>
Задача слегка упрощается тем, что замок Короля представляет собой многоугольник
и расположен на плоской поверхности. Архитектор уже сопоставил замку
прямоугольную декартову систему координат и точно определил координаты каждого
угла замка в футах.
<br><br>
<b>Ввод</b> из файла wall.in. Первая строка содержит два целых числа <i>N</i>
и <i>L</i>, разделённых пробелом: <i>N</i> - число углов в замке Короля,
а <i>L</i> - минимальное число футов, на которое Король разрешил приблизить
стену к замку.
<br><br>
Следующие <i>N</i> строк описывают координаты углов замка в порядке обхода
по часовой стрелке. Каждая строка содержит два целых числа <i>x<sub>i</sub></i>
и <i>y<sub>i</sub></i>, разделённых пробелом и представляющих собой координаты
<i>i</i>-го угла в футах. Все углы имеют различные координаты, и стены замка
не пересекаются иначе как в углах.
<br><br>
<b>Ограничения:</b> 3&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;1000,
1&nbsp;&lt;=&nbsp;<i>L</i>&nbsp;&lt;=&nbsp;1000,
-10&nbsp;000&nbsp;&lt;=&nbsp;<i>x<sub>i</sub></i>,&nbsp;<i>y<sub>i</sub></i>&nbsp;<=&nbsp;10&nbsp;000,
время&nbsp;2&nbsp;с.
<br><br>
<b>Вывод</b> в файл wall.out. Выводится единственное число - минимальная длина
стены в футах, которая может быть построена вокруг замка согласно требованиям
Короля. Вы должны представить Королю целое число футов, потому что вещественные
числа ещё не изобретены. Однако результат нужно округлить так, чтобы он
отличался не более чем на 8 дюймов от правильного (1 фут = 12 дюймов),
потому что большей неточности Король не потерпит.
<br><br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
9 100
200 400
300 400
300 300
400 300
400 400
500 400
500 200
350 200
200 200
<b>Вывод 1</b>
1628
</pre>

<a name="seeds">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача E. Семечки</font><br><br>
На базаре есть ряд из <i>N</i> мест, где продаются семечки подсолнечника.
Потенциальные покупатели идут вдоль ряда, затем в некоторый момент
останавливаются и покупают семечки. Качество семечек от места к месту
различается незначительно, так что разницы только в цене семечек и положении
места.
<br><br>
Перед тем как выйти на рынок в качестве ещё одного продавца семечек,
Вы провели исследование рынка, чтобы найти зависимость числа покупателей от
двух названных факторов. Исследование показывает, что большинство покупателей
следуют одному и тому же шаблону. Они проходят мимо нескольких мест, замечая
и запоминая цены, а затем после обхода <i>K</i> мест, возвращаются к месту
с наименьшей замеченной ценой, совершают там покупку, затем покидают базар.
Если есть несколько мест с одинаковой ценой, покупатель выбирает ближайшее.
<br><br>
Предположим, что есть пять мест с ценами
37,&nbsp;34,&nbsp;34,&nbsp;35,&nbsp;33. Если покупатель
с <i>K</i>&nbsp;=&nbsp;4 идёт слева направо, он видит семечки по ценам
37,&nbsp;34,&nbsp;34,&nbsp;35. В этот момент он решает, что видел достаточно,
возвращается к третьему месту и покупает семечки там. Хотя на втором месте цена
та же, что и на третьем, покупателю до него идти дальше. Если бы тот же
покупатель зашёл справа, он бы увидел цены 33,&nbsp;35,&nbsp;34,&nbsp;34,
затем остановился и вернулся бы к пятому месту.
<br><br>
Число мест, пройденных до принятия решения (<i>K</i>), является функцией
жадности и терпеливости покупателя, и, очевидно, различается у разных
покупателей. Исследование выявило средний процент <i>B<sub>K</sub></i>
покупателей для всех значений <i>K</i>
(1&nbsp;&lt;=&nbsp;<i>K</i>&nbsp;&lt;=&nbsp;<i>N</i>,
0&nbsp;&lt;=&nbsp;<i>B<sub>K</sub></i>&nbsp;&lt;=&nbsp;99,
сумма всех <i>B<sub>K</sub></i> равна 100).
<br><br>
Вам следует определить оптимальную стратегию на этом рынке (то&nbsp;есть цену
и положение нового места, которое максимизирует ожидаемый средний доход)
в предположении, что половина клиентов идёт в направлении от первого места
к <i>N</i>-му, а другая половина - от <i>N</i>-го места к первому, и они
следуют описанному шаблону.
<br><br>
<b>Ввод</b> из файла seeds.in. В первой строке находится число существующих
мест <i>N</i>, во второй строке - <i>N</i> целых чисел - цены на каждом месте,
в третьей строке - <i>N</i> целых чисел в диапазоне от 0 до 99 - значения
<i>B<sub>K</sub></i> для каждого <i>K</i>. Все числа в строках разделены
пробелами.
<br><br>
<b>Ограничения:</b> 2&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;100,
исходные цены - целые числа от 1 до 9999, время&nbsp;2&nbsp;с.
<br><br>
<b>Вывод</b> в файл seeds.out. Выводятся два целых числа - <i>L</i> и <i>P</i>.
<i>L</i> (0&nbsp;&lt;&nbsp;<i>L</i>&nbsp;&lt;&nbsp;<i>N</i>) - это число
существующих мест, после которых должно быть размещено новое
(Вам не разрешается устанавливать своё место первым или последним).
Число <i>P</i> - оптимальная цена. Если существует более чем одно
оптимальное решение, Вы должны выбрать решение с минимальным <i>L</i>,
а среди них - с минимальным <i>P</i>.
<br><br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
5
37 34 34 35 33
10 20 30 30 10
<b>Вывод 1</b>
2 33
</pre>

<a name="polymul">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача F. Умножение многочленов</font><br><br>
Ввести в символьной форме два многочлена от <i>x</i> с целыми коэффициентами
и вывести их произведение в порядке убывания степеней - также в символьной
форме.<br>
<b>Ограничения:</b> степень исходных многочленов не более 10, коэффициенты
исходных многочленов по модулю не более 10<sup>4</sup>, время&nbsp;1&nbsp;с.
<br>
<b>Ввод</b> из файла polymul.in. В двух строках находятся многочлены.<br>
<b>Вывод</b> в файл polymul.out. В единственной строке выводится многочлен.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>    <b>Ввод 3</b>
0         x+1       -5
0         x-1       x^2+x+x-2x^3
<b>Вывод 1</b>   <b>Вывод 2</b>   <b>Вывод 3</b>
0         x^2-1     10x^3-5x^2-10x
</pre>

</body>
</html>
