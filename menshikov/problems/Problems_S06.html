<html>
<head>
 <title>Тренировка S06</title>
 <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
 <meta name="Author" content="Fyodor Menshikov, Vologda, Russia">
 <meta name="E-mail" content="mfv@mail.ru">
 <meta name="Homepage" content="http://www.uni-vologda.ac.ru/~mfv/">
</head>
<body bgcolor=white text=black>

<center><font size=+3>Тренировка S06</font></center><br>

<font size=-1>
Время тестирования приведено для Intel Celeron 400.<br>
Решения должны быть представлены на Turbo Pascal 7.0.
Объём памяти, предоставляемый программе, составляет 500 кб.
</font><br>

<a name="cover">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача A. Закраска прямой</font><br><br>
На числовой прямой окрасили <i>N</i> отрезков. Известны координаты левого и
правого концов каждого отрезка (<i>L<sub>i</sub></i> и <i>R<sub>i</sub></i>).
Найти длину окрашенной части числовой прямой.<br>
<b>Ограничения:</b> <i>L<sub>i</sub></i> и <i>R<sub>i</sub></i> - целые,
-1&nbsp;000&nbsp;000&nbsp;000&nbsp;&lt;=&nbsp;<i>L<sub>i</sub></i>&nbsp;&lt;=&nbsp;<i>R<sub>i</sub></i>&nbsp;&lt;=&nbsp;1&nbsp;000&nbsp;000&nbsp;000,
1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;15&nbsp;000,
время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла cover.in. В первой строке находится число <i>N</i>,
в следующих <i>N</i> строках - пары <i>L<sub>i</sub></i> и
<i>R<sub>i</sub></i>.<br>
<b>Вывод</b> в файл cover.out. Вывести одно число - длину окрашенной части
прямой.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>
2         1
1 3       10 10
2 4
<b>Вывод 1</b>   <b>Вывод 2</b>
3         0
</pre>

<a name="sums">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача B. Суммы</font><br><br>
Дано <i>N</i> целых чисел <i>A</i><sub>1</sub>, <i>A</i><sub>2</sub>, ...,
<i>A<sub>N</sub></i>. Требуется найти количество различных значений сумм вида
<i>k</i><sub>1</sub><i>A</i><sub>1</sub>&nbsp;+&nbsp;<i>k</i><sub>2</sub><i>A</i><sub>2</sub>&nbsp;+&nbsp;...&nbsp;+&nbsp;<i>k<sub>N</sub>A<sub>N</sub></i>.<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;500,
0&nbsp;&lt;=&nbsp;<i>A<sub>i</sub></i>&nbsp;&lt;=&nbsp;100,
0&nbsp;&lt;=&nbsp;<i>k<sub>i</sub></i>&nbsp;&lt;=&nbsp;1, все числа целые,
время&nbsp;2&nbsp;с.<br>
<b>Ввод</b> из файла sums.in. В первой строке находится число <i>N</i>,
во второй -
<i>A</i><sub>1</sub>, <i>A</i><sub>2</sub>, ..., <i>A<sub>N</sub></i> через
пробел.<br>
<b>Вывод</b> в файл sums.out. Вывести одно число - количество различных
значений сумм.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>    <b>Ввод 3</b>
3         3         5
1 1 2     1 3 2     49 100 98 49 0
<b>Вывод 1</b>   <b>Вывод 2</b>   <b>Вывод 3</b>
5         7         10
</pre>

<a name="dategame">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача C. Игра "Даты"</font><br><br>
Играют двое. Задаётся какая-то дата 2004 года. Каждый игрок на своём ходе
называет более позднюю дату, увеличивая на 1 или 2 либо день в месяце, либо
месяц, но не то и другое сразу. При этом сочетание дня и месяца должно
оставаться датой. Игрок, назвавший 31 декабря, проигрывает. Оба играют
наилучшим образом. Исходя из заданной даты вывести, кто выиграет.<br>
<b>Ограничения:</b> месяц от 1 до 12, день от 1 до числа дней в месяце, даты
"31 декабря" во входных данных нет, время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла dategame.in. В первой строке находятся числа, обозначающие
день и месяц.<br>
<b>Вывод</b> в файл dategame.out. Вывести <code>1</code>, если выигрывает
первый (начинающий) игрок, или <code>2</code> - в противном случае.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>    <b>Ввод 3</b>
30 12     29 12     29 11
<b>Вывод 1</b>   <b>Вывод 2</b>   <b>Вывод 3</b>
2         1         2
</pre>

<a name="rectarea">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача D. Площадь прямоугольников</font><br><br>
Дано <i>N</i> прямоугольников со сторонами, параллельными осям координат.
Требуется определить площадь фигуры, образованной объединением данных
прямоугольников.<br>
<b>Ввод</b> из файла rectarea.in. В первой строке находится число
прямоугольников - <i>N</i>. Затем идут <i>N</i> строк, содержащих по 4 числа:
<i>x</i><sub>1</sub>, <i>y</i><sub>1</sub>, <i>x</i><sub>2</sub>,
<i>y</i><sub>2</sub> - координаты двух противоположных углов
прямоугольника.<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;100,
координаты целые и по абсолютному значению не превосходят 10&nbsp;000,
время&nbsp;3&nbsp;с.<br>
<b>Вывод</b> в файл rectarea.out. Вывести одно число - площадь фигуры.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
2
1 1 3 3
2 2 4 4
<b>Вывод 1</b>
7
</pre>

<a name="lines">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача E. Lines</font><br><br>
В таблице из <i>N</i> строк и <i>N</i> столбцов некоторые клетки заняты
шариками, другие свободны. Выбран шарик, который нужно переместить, и место,
куда его нужно переместить. Выбранный шарик за один шаг перемещается в соседнюю
по горизонтали или вертикали свободную клетку. Требуется выяснить, возможно ли
переместить шарик из начальной клетки в заданную, и, если возможно, то найти
путь из наименьшего количества шагов.<br>
<b>Ограничения:</b> 2&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;40,
время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла lines.in. В первой строке находится число <i>N</i>,
в следующих <i>N</i> строках - по <i>N</i> символов. Символом точки обозначена
свободная клетка, латинской заглавной <code>O</code> - шарик, <code>@</code> -
исходное положение шарика, который должен двигаться, латинской заглавной
<code>X</code> - конечное положение шарика.<br>
<b>Вывод</b> в файл lines.out. В первой строке выводится <code>Y</code>, если
движение возможно, или <code>N</code>, если нет. Если движение возможно, далее
следует <i>N</i> строк по <i>N</i> символов - как и на вводе, но буква
<code>X</code>, а также все точки по пути заменяются плюсами.
<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>    <b>Ввод 3</b>
5         5         5
....X     ..X..     ...X.
.OOOO     .....     .....
.....     OOOOO     O.OOO
OOOO.     .....     .....
@....     ..@..     ....@
<b>Вывод 1</b>   <b>Вывод 2</b>   <b>Вывод 3</b>
Y         N         Y
+++++               ..++.
+OOOO               .++..
+++++               O+OOO
OOOO+               .++++
@++++               ....@
</pre>

<a name="paintlab">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача F. Покраска лабиринта</font><br><br>
Лабиринт представляет собой квадрат, состоящий из <i>N</i>x<i>N</i> сегментов.
Каждый из сегментов может быть либо пустым, либо заполненным монолитной
каменной стеной. Гарантируется, что левый верхний и правый нижний сегменты
пусты. Лабиринт обнесён сверху, снизу, слева и справа стенами, оставляющими
свободными только левый верхний и правый нижний углы. Директор лабиринта решил
покрасить стены лабиринта, видимые изнутри (см. рисунок). Помогите ему
рассчитать количество краски, необходимой для этого.<br>
<center><img src="paintlab.gif"></center>
<b>Ограничения:</b> 3&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;33, размер
сегмента 3&nbsp;x&nbsp;3&nbsp;м, высота стен 3&nbsp;м, время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла paintlab.in. В первой строке находится число <i>N</i>,
затем идут <i>N</i> строк по <i>N</i> символов: точка обозначает пустой
сегмент, решётка - сегмент со стеной.<br>
<b>Вывод</b> в файл paintlab.out. Вывести одно число - площадь видимой части
внутренних стен лабиринта в квадратных метрах.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
5
.....
...##
..#..
..###
.....
<b>Вывод 1</b>
198
</pre>

</body>
</html>
