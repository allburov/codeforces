<html>
<head>
 <title>Тренировка S09</title>
 <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
 <meta name="Author" content="Fyodor Menshikov, Vologda, Russia">
 <meta name="E-mail" content="mfv@mail.ru">
 <meta name="Homepage" content="http://www.uni-vologda.ac.ru/~mfv/">
</head>
<body bgcolor=white text=black>

<center><font size=+3>Тренировка S09</font></center><br>

<font size=-1>
Время тестирования приведено для Intel Celeron 400.<br>
Решения должны быть представлены на Turbo Pascal 7.0.
Объём памяти, предоставляемый программе, составляет 500 кб.
</font><br>

<a name="dialogue">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача A. Диалог компьютеров</font><br><br>
Три компьютера соединены сетью. Один из них - сервер, два других - клиенты.
На сервере есть несколько файлов. Полные имена файлов, состоящие из двух
частей (имя и расширение), различны. Оба клиента знают полные имена всех
файлов, находящихся на сервере. Сервер выбирает один из своих файлов и посылает
его имя одному из клиентов, а расширение - второму.
<br><br>
Затем клиенты начинают общаться друг с другом, пытаясь определить, какой файл
был выбран сервером (они хотят узнать полное имя файла). Однако клиенты
вынуждены общаться очень ограниченным способом. Они по очереди посылают
сообщения друг другу, но могут сказать только, что не знают полного имени
файла. Если клиент не знает полного имени выбранного файла, он может
послать другому клиенту сообщение, говорящее: "Я не знаю полного имени файла".
Клиенты чередуются, посылая только это сообщение туда и обратно. Так
продолжается до тех пор, пока один из клиентов не узнает полное имя файла,
или они не решат закончить диалог. Клиент, получивший первую часть полного
имени файла, всегда ждёт, что второй клиент пошлёт первое сообщение.
<br><br>
Пусть Вы знаете все полные имена файлов, находящихся на сервере, и слушаете
разговор клиентов. Основываясь на этой беседе, Вы должны определить набор
файлов, которые могли быть выбраны сервером. Файлы в этом наборе называются
файлами-кандидатами.
<br><br>
<b>Ввод</b> из файла dialogue.in. В первой строке находятся два целых числа,
<i>N</i> и <i>M</i>, разделённые пробелом: <i>N</i> - число файлов на сервере,
<i>M</i> - число сообщений, посланных клиентами, пытающимися определить полное
имя файла.
<br><br>
Каждая из следующих <i>N</i> строк содержит одно полное имя файла. Полное имя
файла дано в стиле, аналогичном формату 8.3 MS-DOS. Каждое полное имя
представлено в форме <code>имя.расширение</code>, где и имя, и расширение
состоит только из заглавных латинских букв и цифр. Имя всегда имеет от одного
до восьми символов. Расширение имеет до трёх символов и может быть пусто. Если
расширение пусто, разделяющая точка может быть опущена.
<br><br>
Каждое полное имя файла появляется во входном файле не более одного раза.
<br><br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;1000,
1&nbsp;&lt;=&nbsp;<i>M</i>&nbsp;&lt;=&nbsp;100, время&nbsp;3&nbsp;с.
<br><br>
<b>Вывод</b> в файл dialogue.out. В первой строке выводится число
файлов-кандидатов для данных набора файлов и числа сообщений между клиентами.
Выводится 0, если файлы-кандидаты отсутствуют.
<br><br>
В следующих строках находятся полные имена файлов-кандидатов, каждое
в отдельной строке. Они должны идти в том же порядке и в том же написании,
что и во входном файле. Это означает, что, если разделяющая точка
в названии конкретного файла была опущена во входном файле, то она должна быть
опущена и в выводе, и наоборот. Файл нельзя упоминать более чем один раз.
<br><br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
19 2
LICENCE.TMP
WIN32.LOG
FILEID.
PSTOTEXT.TXT
GSVIEW32.EXE
GSVIEW32.ICO
GSVIEWDE.HLP
LICENCE
GSVIEWEN.HLP
GSVW32DE.DLL
FILEID.TMP
GSVW32EN.DLL
PSTOTXT3.DLL
PSTOTXT3.EXE
GSV16SPL.EXE
GVWGS32.EXE
ZLIB32.DLL
PRINTER.INI
README.TXT
<b>Вывод 1</b>
6
LICENCE.TMP
FILEID.
LICENCE
FILEID.TMP
PSTOTXT3.DLL
PSTOTXT3.EXE
</pre>

<a name="die">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача B. Бросание кубика</font><br><br>
Кубик, грани которого помечены цифрами от 1 до 6, бросают <i>N</i> раз.
Найти вероятность того, что сумма выпавших чисел будет равна <i>Q</i>.<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;500,
1&nbsp;&lt;=&nbsp;<i>Q</i>&nbsp;&lt;=&nbsp;3000, время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла die.in. В первой строке находятся числа <i>N</i> и
<i>Q</i> через пробел.<br>
<b>Вывод</b> в файл die.out. Выводится единственное вещественное число,
которое должно отличаться от истинного значения не более чем на 0.01 истинного
значения.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>    <b>Ввод 3</b>    <b>Ввод 4</b>
1 6       1 7       4 14      100 100
<b>Вывод 1</b>   <b>Вывод 2</b>   <b>Вывод 3</b>   <b>Вывод 4</b>
0.16666   0         0.11265   1.53e-78
</pre>

<a name="coingame">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача C. Игра с монетами</font><br><br>
Однокопеечные монетки разложены в стопки (в стопках может быть различное
количество монет), а стопки поставлены на столе в ряд слева направо. Двое
противников по очереди делают ходы. Ход состоит в том, что один из игроков
берет слева несколько стопок подряд, не меньше одной, но и не больше, чем перед
этим взял его соперник. Первый игрок своим первым ходом берет не более <i>K</i>
стопок. Игра заканчивается, когда стопок не остается. Требуется найти
максимальное число монет, которое может получить первый участник после
окончания игры, если второй игрок тоже старается ходить так, чтобы получить
как можно больше монет.<br>
<b>Ввод</b> из файла coingame.in. В первой строке находится сначала число
стопок <i>N</i>, за ним идут <i>N</i> чисел, задающих количество монет
в стопках слева направо, а затем число <i>K</i>. Все числа в строке разделены
пробелами.
<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;180,
1&nbsp;&lt;=&nbsp;<i>K</i>&nbsp;&lt;=&nbsp;80, количество монет в стопке -
не менее 1 и не более 20&nbsp;000, время&nbsp;1&nbsp;с.<br>
<b>Вывод</b> в файл coingame.out. Вывести одно число - максимальное количество
монет, которое заведомо может получить первый игрок, как бы ни играл
второй.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>          <b>Ввод 2</b>            <b>Ввод 3</b>
3  4 9 1  3     4  1 2 2 7  3     5  3 4 8 1 7  2
<b>Вывод 1</b>         <b>Вывод 2</b>           <b>Вывод 3</b>
14              5                 18
</pre>

<a name="basin">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача D. Бассейн реки</font><br><br>
<img src="basin.gif" align=right>
Дана карта рек некоторого континента. Каждая река показана как ломаная линия,
которая начинается у истока реки и заканчивается или в точке, где река впадает
в другую, или устьем реки. Вершины ломаной - или точки поворота реки, или
точки впадения притоков.
<br><br>
Будем рассматривать бассейн реки как выпуклый многоугольник минимальной
площади, который содержит реку и все её притоки.
<br><br>
<b>Примечание.</b> Согласно этому определению бассейна реки, одна и та же
территория может принадлежать бассейнам различных рек.
<br><br>
<b>Пример.</b> Показан континент с тремя реками. Координаты рек и площади
бассейнов даны в таблице.
<center>
<table cellspacing=0 cellpadding=0 border=1>
<tr>
 <td align=center>&nbsp;Название реки&nbsp;</td>
 <td align=center>&nbsp;&nbsp;&nbsp;<i>x</i>&nbsp;&nbsp;&nbsp;</td>
 <td align=center>&nbsp;&nbsp;&nbsp;<i>y</i>&nbsp;&nbsp;&nbsp;</td>
 <td align=center>&nbsp;Площадь бассейна реки без притоков&nbsp;</td>
</tr>

<tr>
 <td align=center rowspan=5>река 1</td>
 <td align=center>6</td><td align=center>9</td>
 <td align=center rowspan=5>12,5</td>
</tr>
<tr><td align=center>5</td><td align=center>11</td></tr>
<tr><td align=center>3</td><td align=center>12</td></tr>
<tr><td align=center>2</td><td align=center>10</td></tr>
<tr><td align=center>1</td><td align=center>7</td></tr>
<tr><td align=center colspan=4>&nbsp;</td></tr>

<tr>
 <td align=center rowspan=3>река 2</td>
 <td align=center>7</td><td align=center>9</td>
 <td align=center rowspan=3>1,5</td>
</tr>
<tr><td align=center>5</td><td align=center>7</td></tr>
<tr><td align=center>5</td><td align=center>5,5</td></tr>
<tr><td align=center colspan=4>&nbsp;</td></tr>

<tr>
 <td align=center rowspan=6>река 3</td>
 <td align=center>3</td><td align=center>10</td>
 <td align=center rowspan=6>9,5</td>
</tr>
<tr><td align=center>5</td><td align=center>8</td></tr>
<tr><td align=center>4</td><td align=center>6</td></tr>
<tr><td align=center>5</td><td align=center>5,5</td></tr>
<tr><td align=center>6</td><td align=center>5</td></tr>
<tr><td align=center>3</td><td align=center>5</td></tr>
</table>
</center>
Требуется найти максимальную площадь бассейна реки, расположенной на данном
континенте.<br>
<b>Ввод</b> из файла basin.in. Первая строка содержит число рек <i>N</i>.
В следующих строках файла содержится <i>N</i> блоков, описывающих реки.
<br><br>
Каждый блок номер <i>i</i> состоит:
<ul>
<li>из одной строки с <i>k<sub>i</sub></i> - числом вершин ломаной,
представляющей реку;
<li><i>k<sub>i</sub></i> строк, содержащих пары вещественных чисел
<i>x<sub>j</sub></i> и <i>y<sub>j</sub></i>
(1&nbsp;&lt;=&nbsp;<i>j</i>&nbsp;&lt;=&nbsp;<i>k<sub>i</sub></i>),
разделённых пробелом, - координаты точек, описывающих реку.
</ul>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;10,
сумма <i>k<sub>i</sub></i>&nbsp;&lt;=&nbsp;1000,
-1000&nbsp;&lt;=&nbsp;<i>x<sub>j</sub></i>,&nbsp;<i>y<sub>j</sub></i>&nbsp;&lt;=&nbsp;1000,
время&nbsp;3&nbsp;с.<br>
<b>Вывод</b> в файл basin.out. Вывести одно число - площадь наибольшего
бассейна реки с двумя знаками после запятой.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>
3         2
5         5
6 9       6 9
5 11      5 11
3 12      3 12
2 10      2 10
1 7       1 7
3         6
7 9       3 10
5 7       5 8
5 5.5     4 6
6         5 5.5
3 10      6 5
5 8       3 5
4 6
5 5.5
6 5
3 5
<b>Вывод 1</b>   <b>Вывод 2</b>
16.00     12.50
</pre>

<a name="nearnum">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача E. Ближайшее число</font><br><br>
Дана матрица <i>A</i> размером <i>N</i>x<i>N</i>, заполненная неотрицательными
целыми числами. Расстояние между двумя элементами <i>A<sub>i&nbsp;j</sub></i> и
<i>A<sub>p&nbsp;q</sub></i> определено как
|<i>i</i>&nbsp;-&nbsp;<i>p</i>|&nbsp;+&nbsp;|<i>j</i>&nbsp;-&nbsp;<i>q</i>|.
<br>
Требуется заменить каждый нулевой элемент матрицы ближайшим ненулевым. Если
есть две или больше ближайших ненулевых ячейки, нуль должен быть оставлен.<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;200,
0&nbsp;&lt;=&nbsp;<i>A<sub>i&nbsp;j</sub></i>&nbsp;&lt;=&nbsp;1&nbsp;000&nbsp;000,
время&nbsp;3&nbsp;с.<br>
<b>Ввод</b> из файла nearnum.in. В первой строке содержится число <i>N</i>.
Затем идут <i>N</i> строк по <i>N</i> чисел, разделённых пробелами и
представляющих собой матрицу.<br>
<b>Вывод</b> в файл nearnum.out. Выводится <i>N</i> строк по <i>N</i> чисел,
разделённых пробелами, - модифицированная матрица.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
3
0 0 0
1 0 2
0 3 0
<b>Вывод 1</b>
1 0 2
1 0 2
0 3 0
</pre>

<a name="rectpart">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача F. Прямоугольное деление</font><br><br>
Дано <i>N</i> прямоугольников со сторонами, параллельными осям координат.
Требуется определить, на сколько частей эти прямоугольники разбивают плоскость
(внутри частей не должно быть границ прямоугольников).<br>
<b>Ввод</b> из файла rectpart.in. В первой строке содержится число
прямоугольников <i>N</i>. Далее идут <i>N</i> строк, содержащих по 4 числа
<i>x</i><sub>1</sub>, <i>y</i><sub>1</sub>, <i>x</i><sub>2</sub>,
<i>y</i><sub>2</sub> - координаты двух противоположных углов прямоугольника.
<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;100, координаты
представляют собой целые числа и по абсолютной величине не превосходят
10&nbsp;000, время&nbsp;3&nbsp;с.<br>
<b>Вывод</b> в файл rectpart.out. Вывести одно число - количество частей,
на которые разбивается плоскость.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
3
10 20 50 30
40 10 50 25
40 25 80 30
<b>Вывод 1</b>
6
</pre>

</body>
</html>
