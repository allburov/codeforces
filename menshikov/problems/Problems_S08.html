<html>
<head>
 <title>Тренировка S08</title>
 <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
 <meta name="Author" content="Fyodor Menshikov, Vologda, Russia">
 <meta name="E-mail" content="mfv@mail.ru">
 <meta name="Homepage" content="http://www.uni-vologda.ac.ru/~mfv/">
</head>
<body bgcolor=white text=black>

<center><font size=+3>Тренировка S08</font></center><br>

<font size=-1>
Время тестирования приведено для Intel Celeron 400.<br>
Решения должны быть представлены на Turbo Pascal 7.0.
Объём памяти, предоставляемый программе, составляет 500 кб.
</font><br>

<a name="nosum">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача A. Несоставляемое число</font><br><br>
Даны <i>N</i> натуральных чисел. Найти минимальное натуральное число, не
представимое суммой никаких из этих чисел, если в эту сумму каждое исходное
число может входить не более одного раза.<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;10&nbsp;000,
значения исходных чисел от 1 до 1&nbsp;000&nbsp;000&nbsp;000,
время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла nosum.in. В первой строке находится число <i>N</i>,
в следующих <i>N</i> строках - по одному натуральному числу.<br>
<b>Вывод</b> в файл nosum.out. Вывести одно число.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>
4         4
1         1
1         2
1         4
5         8
<b>Вывод 1</b>   <b>Вывод 2</b>
4         16
</pre>

<a name="sms">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача B. SMS</font><br><br>
<img src="sms.gif" align=right>
Сообщения SMS сотового телефона MOBILA составлены из прописных латинских букв.
Если буква первая на кнопке, нужно нажать эту кнопку один раз, чтобы добавить
букву в сообщение. Если буква вторая - нужно нажать кнопку дважды и т.д. Так,
чтобы набрать слово "SMS", нужно нажать
<pre>
(PQRS)(PQRS)(PQRS)(PQRS)(MNO)(PQRS)(PQRS)(PQRS)(PQRS)
</pre>
Чтобы ввести две буквы, находящиеся на одной кнопке, нужно между нажатиями
клавиши сделать паузу. Например, чтобы ввести сообщение "AA", нужно нажать
<pre>
(ABC)(пауза)(ABC)
</pre>
Если на кнопке три буквы, то, как только такая кнопка нажата три раза,
последняя буква добавляется в сообщение немедленно, а следующие нажатия той же
кнопки относятся к следующей букве сообщения. Аналогично, если на кнопке четыре
буквы, то после четырёх нажатий в сообщение будет добавлена последняя буква.
То&nbsp;есть последовательность нажатий
<pre>
(ABC)(ABC)(ABC)(ABC)(пауза)(ABC)
</pre>
соответствует сообщению "CAA". К сожалению, сотовые телефоны этой модели
давно не производятся, и остался только один такой телефон. Он может
произвольно вставлять и игнорировать паузы во время ввода сообщения, что может
привести к некоторым изменениям в сообщениях. Например, введя
MOSCOWQUARTERFINAL, можно получить вместо этого OMSCMNWQTTARTERPDEINAL. Вы
получили SMS-сообщение и знаете, что оригинальное сообщение содержало
<i>N</i> букв. Чтобы определить вероятность угадывания оригинального сообщения,
найдите число возможных сообщений, которые могли превратиться в то, которое
Вы получили.<br>
<b>Ограничения:</b> 1&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;80,
полученное сообщение состоит только из прописных латинских букв,
длина полученного сообщения - от 1 до 80 букв, время&nbsp;2&nbsp;с.<br>
<b>Ввод</b> из файла sms.in. В первой строке задана длина оригинального
сообщения <i>N</i>. Вторая строка содержит полученное SMS-сообщение.<br>
<b>Вывод</b> в файл sms.out. Вывести число сообщений из <i>N</i> букв,
которые, будучи набранными на на этом телефоне, могут превратиться в данное
сообщение.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>    <b>Ввод 3</b>
4         2         80
MAMA      WWW       QUARTERFINAL
<b>Вывод 1</b>   <b>Вывод 2</b>   <b>Вывод 3</b>
1         2         0
</pre>

<a name="gametree">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача C. Дерево игры</font><br><br>
Игра для двух игроков определяется её деревом. Соперники делают ходы по
очереди. Первый игрок начинает игру. Игра кончается или вничью, или победой
одного из игроков. Листья дерева этой игры могут иметь значения, равные одному
из трёх чисел: +1 - победа первого игрока, -1 - победа второго игрока, 0
- ничья. Ваша задача - определить, кто выиграет, если оба противника следуют
правильной стратегии.<br>
<b>Ввод</b> из файла gametree.in. Узлы дерева пронумерованы последовательными
целыми числами. Корень дерева всегда имеет номер 1. Первая строка входного
файла содержит целое <i>N</i> - число узлов в дереве игры. Следующая
<i>N</i>&nbsp;-&nbsp;1 строка описывает узлы - одна строка для каждого узла
(за исключением первого). Вторая строка содержит описание второго узла дерева,
третья - третьего узла и т.д. Если узел является листом, первый символ строки -
<code>L</code>, затем идёт пробел, затем номер родительского узла, ещё пробел
и результат игры (<code>+1</code> - победа первого игрока,
<code>-1</code> - победа второго, <code>0</code> - ничья). Если узел
внутренний, то строка содержит <code>N</code> - первый символ, затем пробел и
номер родительского узла.<br>
<b>Вывод</b> в файл gametree.out. Выводится <code>+1</code>, если выигрывает
первый игрок, <code>-1</code>, если второй, и <code>0</code> - в случае
ничейного исхода.<br>
<b>Ограничения:</b> 2&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;1000,
время&nbsp;1&nbsp;с.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>
7         7
N 1       N 1
N 1       N 1
L 2 -1    L 2 -1
L 2 +1    L 2 +1
L 3 +1    L 3 +1
L 3 +1    L 3 0
<b>Вывод 1</b>   <b>Вывод 2</b>
+1        0

<b>Ввод 3 (см. рисунок)</b>
<img src="gametree.gif" align=right>18
N 1
N 1
N 2
L 2 +1
N 3
L 3 +1
L 3 +1
L 4 -1
L 4 +1
N 4
N 6
L 6 -1
L 6 -1
L 11 -1
L 11 +1
L 12 +1
L 12 -1
<b>Вывод 3</b>
+1
</pre>

<a name="spherarc">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача D. Дуга на сфере</font><br><br>
На поверхности планеты, являющейся шаром радиусом <i>R</i>, заданы две точки
своими широтой и долготой. Найти минимальную длину пути по поверхности этой
планеты из одной точки в другую.<br>
<b>Ограничения:</b> широта в градусах от -90 до 90, долгота в градусах от -180
до 180, 100&nbsp;&lt;=&nbsp;<i>R</i>&nbsp;&lt;=&nbsp;10&nbsp;000, все числа
вещественные, время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла spherarc.in. В первой строке находится число <i>R</i>,
во второй строке заданы широта и долгота первой точки, в третьей строке -
широта и долгота второй точки.<br>
<b>Вывод</b> в файл spherarc.out. Вывести длину пути с двумя знаками после
запятой.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
4000
45 120
0 120
<b>Вывод 1</b>
3141.59
</pre>

<a name="horseway">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача E. Путь коня</font><br><br>
Дана шахматная доска, состоящая из <i>N</i>x<i>N</i> клеток, несколько из них
вырезано. Провести ходом коня через невырезанные клетки путь минимальной длины
из одной заданной клетки в другую.<br>
<b>Ограничения:</b> 2&nbsp;&lt;=&nbsp;<i>N</i>&nbsp;&lt;=&nbsp;50,
время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла knightw.in. В первой строке задано число <i>N</i>.
В следующих <i>N</i> строках содержится по <i>N</i> символов. Символом
<code>#</code> обозначена вырезанная клетка, точкой - невырезанная клетка,
<code>@</code> - заданные клетки (таких символов два).<br>
<b>Вывод</b> в файл knightw.out. Если путь построить невозможно, вывести
"<code>Impossible</code>", в противном случае вывести такую же карту,
как и на входе, но пометить все промежуточные положения коня символом
<code>@</code>.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>    <b>Ввод 2</b>    <b>Ввод 3</b>
5         5         5
.....     @..@.     @....
.@@..     ..##.     ..#..
.....     .....     .#...
.....     .....     .....
.....     .....     ....@
<b>Вывод 1</b>   <b>Вывод 2</b>   <b>Вывод 3</b>
...@.     @..@.     Impossible
.@@..     ..##.
....@     .@..@
.....     ..@..
.....     @....
</pre>

<a name="beds">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=+1>
Задача F. Грядки</font><br><br>
Прямоугольный садовый участок шириной <i>N</i> и длиной <i>M</i> метров
разбит на квадраты со стороной 1 метр. На этом участке вскопаны грядки. Грядкой
называется совокупность квадратов, удовлетворяющая таким условиям:
<ul>
<li>из любого квадрата этой грядки можно попасть в любой другой квадрат этой же
грядки, последовательно переходя по грядке из квадрата в квадрат через их общую
сторону;
<li>никакие две грядки не пересекаются и не касаются друг друга ни по
вертикальной, ни по горизонтальной сторонам квадратов (касание грядок углами
квадратов допускается).
</ul>
Подсчитайте количество грядок на садовом участке.<br>
<b>Ограничения:</b>
1&nbsp;&lt;=&nbsp;<i>N</i>,&nbsp;<i>M</i>&nbsp;&lt;=&nbsp;200,
время&nbsp;1&nbsp;с.<br>
<b>Ввод</b> из файла beds.in. В первой строке находятся числа <i>N</i> и
<i>M</i> через пробел, далее идут <i>N</i> строк по <i>M</i> символов.
Символ <code>#</code> обозначает территорию грядки, точка соответствует
незанятой территории. Других символов в исходном файле нет.<br>
<b>Вывод</b> в файл beds.out. Вывести одно число - количество грядок
на садовом участке.<br>
<b>Примеры</b>
<pre><b>Ввод 1</b>
5 10
##......#.
.#..#...#.
.###....#.
..##....#.
........#.
<b>Вывод 1</b>
3
</pre>

</body>
</html>
